@using Ewu.WebUI.Models.ViewModel
@model IEnumerable<LogDealTableInfo>

@foreach (var logdeal in Model)
{
    if (logdeal.LogDeal.DealStatus.Contains("待确认"))
    {
        <tr class="warning">
            <td style="white-space:nowrap">@logdeal.LogDeal.DealBeginTime</td>
            <td style="white-space:nowrap" class="font-weight-bolder">@logdeal.LogDeal.DealStatus</td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealOutTrea.Link >
                    @logdeal.DealOutTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealInTrea.Link >
                    @logdeal.DealInTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.Trader.UserID >
                    @logdeal.Trader.UserName
                </a>
            </td>
            @if(logdeal.LogDeal.DealEndTime != null)
            {
                <td style="white-space:nowrap">@logdeal.LogDeal.DealEndTime</td>
            }
            else
            {
                <td style="white-space:nowrap">进行中</td>
            }
            <td style="white-space:nowrap" class="">
                <a href="#">
                    <span title="详情" class="fa fa-chain text-info" style="font-size:25px"></span>
                </a>
                @if (logdeal.IsSponsor == true)
                {
                    <a href="/Account/InitiateDealLog">
                        <span title="转到" class="fa fa-share text-success" style="font-size:25px"></span>
                    </a>
                }
                else if (logdeal.IsSponsor == false) 
                {
                    <a href="/Account/RecipientDealLog">
                        <span title="转到" class="fa fa-share text-success" style="font-size:25px"></span>
                    </a>
                }

            </td>
        </tr>
    }
    else if (logdeal.LogDeal.DealStatus.Contains("交易中"))
    {
        <tr class="info">
            <td style="white-space:nowrap">@logdeal.LogDeal.DealBeginTime</td>
            <td style="white-space:nowrap" class="font-weight-bolder">@logdeal.LogDeal.DealStatus</td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealOutTrea.Link >
                    @logdeal.DealOutTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealInTrea.Link >
                    @logdeal.DealInTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.Trader.UserID >
                    @logdeal.Trader.UserName
                </a>
            </td>
            @if(logdeal.LogDeal.DealEndTime != null)
            {
                <td style="white-space:nowrap">@logdeal.LogDeal.DealEndTime</td>
            }
            else
            {
                <td style="white-space:nowrap">进行中</td>
            }
            <td style="white-space:nowrap">
                <a href="#">
                    <span title="详情" class="fa fa-chain text-info" style="font-size:25px"></span>
                </a>
                <a href="/Account/DealingLog">
                    <span title="转到" class="fa fa-share text-success" style="font-size:25px"></span>
                </a>
            </td>
        </tr>
    }
    else if (logdeal.LogDeal.DealStatus.Contains("拒绝"))
    {
        <tr class="danger">
            <td style="white-space:nowrap">@logdeal.LogDeal.DealBeginTime</td>
            <td style="white-space:nowrap" class="font-weight-bolder">@logdeal.LogDeal.DealStatus</td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealOutTrea.Link >
                    @logdeal.DealOutTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealInTrea.Link >
                    @logdeal.DealInTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.Trader.UserID >
                    @logdeal.Trader.UserName
                </a>
            </td>
            @if(logdeal.LogDeal.DealEndTime != null)
            {
                <td style="white-space:nowrap">@logdeal.LogDeal.DealEndTime</td>
            }
            else
            {
                <td style="white-space:nowrap">进行中</td>
            }
            <td style="white-space:nowrap">
                <a href="#">
                    <span title="详情" class="fa fa-chain text-info" style="font-size:25px"></span>
                </a>
            </td>
        </tr>
    }
    else if (logdeal.LogDeal.DealStatus.Contains("交易成功"))
    {
        <tr class="success">
            <td style="white-space:nowrap">@logdeal.LogDeal.DealBeginTime</td>
            <td style="white-space:nowrap" class="font-weight-bolder">@logdeal.LogDeal.DealStatus</td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealOutTrea.Link >
                    @logdeal.DealOutTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealInTrea.Link >
                    @logdeal.DealInTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.Trader.UserID >
                    @logdeal.Trader.UserName
                </a>
            </td>
            @if(logdeal.LogDeal.DealEndTime != null)
            {
                <td style="white-space:nowrap">@logdeal.LogDeal.DealEndTime</td>
            }
            else
            {
                <td style="white-space:nowrap">进行中</td>
            }
            <td style="white-space:nowrap">
                <a href="#">
                    <span title="详情" class="fa fa-chain text-info" style="font-size:25px"></span>
                </a>
                <a href="/Account/CompleteDealLog">
                    <span title="转到" class="fa fa-share text-success" style="font-size:25px"></span>
                </a>
            </td>
        </tr>
    }
    else if (logdeal.LogDeal.DealStatus.Contains("交易取消"))
    {
        <tr class="active">
            <td style="white-space:nowrap">@logdeal.LogDeal.DealBeginTime</td>
            <td style="white-space:nowrap" class="font-weight-bolder">@logdeal.LogDeal.DealStatus</td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealOutTrea.Link >
                    @logdeal.DealOutTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealInTrea.Link >
                    @logdeal.DealInTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.Trader.UserID >
                    @logdeal.Trader.UserName
                </a>
            </td>
            @if(logdeal.LogDeal.DealEndTime != null)
            {
                <td style="white-space:nowrap">@logdeal.LogDeal.DealEndTime</td>
            }
            else
            {
                <td style="white-space:nowrap">进行中</td>
            }
            <td style="white-space:nowrap">
                <a href="#">
                    <span title="详情" class="fa fa-chain text-info" style="font-size:25px"></span>
                </a>
            </td>
        </tr>
    }
    else if (logdeal.LogDeal.DealStatus.Contains("交易失败"))
    {
        <tr>
            <td style="white-space:nowrap">@logdeal.LogDeal.DealBeginTime</td>
            <td style="white-space:nowrap" class="font-weight-bolder">@logdeal.LogDeal.DealStatus</td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealOutTrea.Link >
                    @logdeal.DealOutTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.DealInTrea.Link >
                    @logdeal.DealInTrea.TreasureName
                </a>
            </td>
            <td style="white-space:nowrap">
                <a href=@logdeal.Trader.UserID >
                    @logdeal.Trader.UserName
                </a>
            </td>
            @if(logdeal.LogDeal.DealEndTime != null)
            {
                <td style="white-space:nowrap">@logdeal.LogDeal.DealEndTime</td>
            }
            else
            {
                <td style="white-space:nowrap">进行中</td>
            }
            <td style="white-space:nowrap">
                <a href="#">
                    <span title="详情" class="fa fa-chain text-info" style="font-size:25px"></span>
                </a>
            </td>
        </tr>
    }
}
